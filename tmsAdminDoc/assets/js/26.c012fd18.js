(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{205:function(t,_,a){"use strict";a.r(_);var v=a(0),r=Object(v.a)({},function(){var t=this,_=t.$createElement,a=t._self._c||_;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"公共状态"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#公共状态","aria-hidden":"true"}},[t._v("#")]),t._v(" 公共状态")]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("说明")]),t._v(" "),a("p",[t._v("在 "),a("strong",[t._v("eMao-Admin")]),t._v(" 中，Vuex采用的是模块化处理方式，但是getter单独放在了外面；")]),t._v(" "),a("p",[t._v("因为 "),a("strong",[t._v("Mutation")]),t._v(" 只能是同步函数，所以只能触发一个commit来改变一个 "),a("strong",[t._v("State")]),t._v(" ； "),a("strong",[t._v("Action")]),t._v(" 可以是异步函数，可以同时触发多个commit来出发多个 "),a("strong",[t._v("State")]),t._v(" 的改变；所以根据这个特点，我们在设计Store的时候，遵循以下条件：")]),t._v(" "),a("ul",[a("li",[t._v("触发一个或同步触发多个 "),a("strong",[t._v("State")]),t._v(" 的情况使用 "),a("strong",[t._v("Mutation")])]),t._v(" "),a("li",[t._v("异步触发多个 "),a("strong",[t._v("Mutation")]),t._v(" 或者配合 "),a("strong",[t._v("Promise")]),t._v(" 的情况使用 "),a("strong",[t._v("Action")])]),t._v(" "),a("li",[t._v("获取 "),a("strong",[t._v("State")]),t._v(" 通过 "),a("strong",[t._v("mapGetters")])]),t._v(" "),a("li",[a("strong",[t._v("mapState")]),t._v(" 暂不使用")])]),t._v(" "),a("p",[t._v("关于Vuex的系统知识，请见 "),a("a",{attrs:{href:"https://recoluan.gitlab.io/views/frontEnd/2018/2018091001.html",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("Vuex精简")]),a("OutboundLink")],1),t._v("。")])]),t._v(" "),a("h2",{attrs:{id:"app-程序本身"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#app-程序本身","aria-hidden":"true"}},[t._v("#")]),t._v(" app-程序本身")]),t._v(" "),a("h4",{attrs:{id:"state"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#state","aria-hidden":"true"}},[t._v("#")]),t._v(" State")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("sidebar")]),t._v(" 侧边栏打开状态、是否开启状态过渡")]),t._v(" "),a("li",[a("strong",[t._v("device")]),t._v(" 打开设备")]),t._v(" "),a("li",[a("strong",[t._v("themeColo")]),t._v(" 主题颜色")]),t._v(" "),a("li",[a("strong",[t._v("pageTitle")]),t._v(" 页面头部文案")])]),t._v(" "),a("h4",{attrs:{id:"mutation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mutation","aria-hidden":"true"}},[t._v("#")]),t._v(" Mutation")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("TOGGLE_SIDEBAR")]),t._v(" 是否开启侧边栏")]),t._v(" "),a("li",[a("strong",[t._v("OPEN_SIDEBAR")]),t._v(" 开启侧边栏")]),t._v(" "),a("li",[a("strong",[t._v("CLOSE_SIDEBAR")]),t._v(" 关闭侧边栏")]),t._v(" "),a("li",[a("strong",[t._v("TOGGLE_DEVICE")]),t._v(" 打开设备是移动端还是PC端")]),t._v(" "),a("li",[a("strong",[t._v("CHANGE_THEME_COLOR")]),t._v(" 切换主题颜色")]),t._v(" "),a("li",[a("strong",[t._v("SET_PAGE_TITLE")]),t._v(" 设置页面头部文案")])]),t._v(" "),a("h2",{attrs:{id:"user-用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#user-用户","aria-hidden":"true"}},[t._v("#")]),t._v(" user-用户")]),t._v(" "),a("h4",{attrs:{id:"state-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#state-2","aria-hidden":"true"}},[t._v("#")]),t._v(" State")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("user")]),t._v(" 用户")]),t._v(" "),a("li",[a("strong",[t._v("status")]),t._v(" 状态")]),t._v(" "),a("li",[a("strong",[t._v("token")]),t._v(" token")]),t._v(" "),a("li",[a("strong",[t._v("name")]),t._v(" 名字")]),t._v(" "),a("li",[a("strong",[t._v("avatar")]),t._v(" 头像")]),t._v(" "),a("li",[a("strong",[t._v("introduction")]),t._v(" 介绍")]),t._v(" "),a("li",[a("strong",[t._v("roles")]),t._v(" 角色")]),t._v(" "),a("li",[a("strong",[t._v("setting")]),t._v(" 设置")])]),t._v(" "),a("h4",{attrs:{id:"mutation-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mutation-2","aria-hidden":"true"}},[t._v("#")]),t._v(" Mutation")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("SET_TOKEN")]),t._v(" 设置token")]),t._v(" "),a("li",[a("strong",[t._v("SET_INTRODUCTION")]),t._v(" 设置介绍")]),t._v(" "),a("li",[a("strong",[t._v("SET_SETTING")]),t._v(" 设置设置")]),t._v(" "),a("li",[a("strong",[t._v("SET_STATUS")]),t._v(" 设置状态")]),t._v(" "),a("li",[a("strong",[t._v("SET_NAME")]),t._v(" 设置名字")]),t._v(" "),a("li",[a("strong",[t._v("SET_AVATAR")]),t._v(" 设置头像")]),t._v(" "),a("li",[a("strong",[t._v("SET_ROLES")]),t._v(" 设置角色")])]),t._v(" "),a("h4",{attrs:{id:"actions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#actions","aria-hidden":"true"}},[t._v("#")]),t._v(" Actions")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("LoginByUsername")]),t._v(" 通过用户名登录，并提交SET_TOKEN")]),t._v(" "),a("li",[a("strong",[t._v("GetUserInfo")]),t._v(" 获取用户信息，并提交SET_ROLES、SET_NAME、SET_AVATAR、SET_INTRODUCTION")]),t._v(" "),a("li",[a("strong",[t._v("LogOut")]),t._v(" 登出，并提交（清空）SET_TOKEN，SET_ROLES")]),t._v(" "),a("li",[a("strong",[t._v("FedLogOut")]),t._v(" 前端登出（获取用户信息失败），并提交（清空）SET_TOKE")]),t._v(" "),a("li",[a("strong",[t._v("ChangeRoles")])])]),t._v(" "),a("h2",{attrs:{id:"tagsview-标签"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tagsview-标签","aria-hidden":"true"}},[t._v("#")]),t._v(" tagsView-标签")]),t._v(" "),a("h4",{attrs:{id:"state-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#state-3","aria-hidden":"true"}},[t._v("#")]),t._v(" State")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("visitedViews")]),t._v(" 浏览过的页面")]),t._v(" "),a("li",[a("strong",[t._v("cachedViews")]),t._v(" 缓存的页面")])]),t._v(" "),a("h4",{attrs:{id:"mutation-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mutation-3","aria-hidden":"true"}},[t._v("#")]),t._v(" Mutation")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("ADD_VISITED_VIEWS")]),t._v(" 添加浏览过的页面")]),t._v(" "),a("li",[a("strong",[t._v("DEL_VISITED_VIEWS")]),t._v(" 删除浏览过的页面")]),t._v(" "),a("li",[a("strong",[t._v("DEL_OTHERS_VIEWS")]),t._v(" 删除其他页面")]),t._v(" "),a("li",[a("strong",[t._v("DEL_ALL_VIEWS")]),t._v(" 删除所有页面")])]),t._v(" "),a("h4",{attrs:{id:"actions-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#actions-2","aria-hidden":"true"}},[t._v("#")]),t._v(" Actions")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("delVisitedViews")]),t._v(" 提交DEL_VISITED_VIEWS")]),t._v(" "),a("li",[a("strong",[t._v("delOthersViews")]),t._v(" 提交DEL_OTHERS_VIEWS")])]),t._v(" "),a("h2",{attrs:{id:"errorlog-日志处理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#errorlog-日志处理","aria-hidden":"true"}},[t._v("#")]),t._v(" errorLog-日志处理")]),t._v(" "),a("h4",{attrs:{id:"state-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#state-4","aria-hidden":"true"}},[t._v("#")]),t._v(" State")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("logs")]),t._v(" 日志池")])]),t._v(" "),a("h4",{attrs:{id:"mutation-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mutation-4","aria-hidden":"true"}},[t._v("#")]),t._v(" Mutation")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("ADD_ERROR_LOG")]),t._v(" 添加错误日志")])]),t._v(" "),a("h2",{attrs:{id:"tabs-菜单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tabs-菜单","aria-hidden":"true"}},[t._v("#")]),t._v(" tabs-菜单")]),t._v(" "),a("h4",{attrs:{id:"state-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#state-5","aria-hidden":"true"}},[t._v("#")]),t._v(" State")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("menuMap")]),t._v(" 能够访问的菜单数组")]),t._v(" "),a("li",[a("strong",[t._v("moduleMenuIndex")]),t._v(" 当前页面的所在模块")]),t._v(" "),a("li",[a("strong",[t._v("firstMenuIndex")]),t._v(" 当前页面的所在一级菜单")]),t._v(" "),a("li",[a("strong",[t._v("secondMenuIndex")]),t._v(" 当前页面的所在二级菜单")])]),t._v(" "),a("h4",{attrs:{id:"mutation-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mutation-5","aria-hidden":"true"}},[t._v("#")]),t._v(" Mutation")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("SET_ROUTERS")]),t._v(" 设置路由")])]),t._v(" "),a("h4",{attrs:{id:"actions-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#actions-3","aria-hidden":"true"}},[t._v("#")]),t._v(" Actions")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("SET_MENU_MAP")]),t._v(" 设置菜单数组")]),t._v(" "),a("li",[a("strong",[t._v("SET_MODULE_MENU_INDEX")]),t._v(" 设置当前页面的所在模块")]),t._v(" "),a("li",[a("strong",[t._v("SET_FIRST_MENU_INDEX")]),t._v(" 设置当前页面的所在一级菜单")]),t._v(" "),a("li",[a("strong",[t._v("SET_SECOND_MENU_INDEX")]),t._v(" 设置当前页面的所在二级菜单")]),t._v(" "),a("li",[a("strong",[t._v("SET_MENU_INDEX")]),t._v(" 设置页面所在模块、所在一级菜单、所在二级菜单")])])])},[],!1,null,null,null);_.default=r.exports}}]);